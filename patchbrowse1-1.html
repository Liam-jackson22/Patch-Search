<!DOCTYPE html>
<html>
<head>
  <title>PatchBrowse</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #f0f0f0;
    }
    header {
      background: #333;
      color: white;
      padding: 10px;
      display: flex;
      align-items: center;
    }
    #newTab, #aiTab {
      margin-left: 10px;
      padding: 5px 10px;
      background: #555;
      color: white;
      border: none;
      cursor: pointer;
    }
    #tabBar {
      display: flex;
      background: #ddd;
      padding: 5px;
    }
    .tab {
      padding: 5px 10px;
      margin-right: 5px;
      background: #fff;
      border: 1px solid #ccc;
      cursor: pointer;
    }
    .tab.active {
      background: #bbb;
    }
    #tabContent {
      padding: 10px;
      background: white;
      height: 80vh;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <header>
    <h1>ðŸŽ® PatchBrowse</h1>
    <button id="aiTab">ðŸ¤– Load My AI</button>
  </header>
  <div id="tabBar"></div>
  <div id="tabContent"></div>

  <!-- Pickaxe Embed Script -->
  <script src="https://studio.pickaxe.co/api/embed/bundle.js" defer></script>

  <script>
    let tabCounter = 0;
    const tabBar = document.getElementById("tabBar");
    const tabContent = document.getElementById("tabContent");

    document.getElementById("aiTab").addEventListener("click", () => {
      const tabId = `tab-ai`;
      if (document.getElementById(tabId)) {
        activateTab(tabId);
        return;
      }

      const tab = document.createElement("div");
      tab.className = "tab";
      tab.textContent = `My AI`;
      tab.dataset.id = tabId;
      tab.addEventListener("click", () => activateTab(tabId));
      tabBar.appendChild(tab);

      const tabPane = document.createElement("div");
      tabPane.id = tabId;
      tabPane.style.display = "none";
      tabPane.innerHTML = `
        <div id="deployment-0e2e26e8-4dc4-40ed-b8a0-8a5276dce1d1"></div>
      `;
      tabContent.appendChild(tabPane);
      activateTab(tabId);
    });

    function activateTab(id) {
      document.querySelectorAll(".tab").forEach(tab => {
        tab.classList.toggle("active", tab.dataset.id === id);
      });
      document.querySelectorAll("#tabContent > div").forEach(pane => {
        pane.style.display = pane.id === id ? "block" : "none";
      });
    }
  </script>
</body>
</html>
